<?xml version="1.0" encoding="utf-8"?>
<mx:HDividedBox xmlns:mx="http://www.adobe.com/2006/mxml" 
	xmlns:panels="test.view.panels.*"
	xmlns:components="com.flexspy.parser.view.components.*"
	width="100%" height="100%" 
	creationComplete="init()"
	>
	<mx:Script>
		<![CDATA[
			import com.flexspy.parser.model.FlexTrampModelLocator;
			import com.flexspy.parser.model.presentation.panels.VariabesPanelModifier;
			import mx.events.ListEvent;
			import com.flexspy.parser.model.presentation.components.ObjectSpyModifier;
			import mx.collections.ArrayCollection;
			
			[Bindable] private var modifier : VariabesPanelModifier;
			
			private function init() : void
			{
				modifier = new VariabesPanelModifier( FlexTrampModelLocator.getInstance().parser );
				variableList.addEventListener( ListEvent.CHANGE, handleVariableChange );
				variableList.addEventListener( ListEvent.ITEM_CLICK, handleVariableChange );
			}
			
			private function handleVariableChange( event : Event ) : void
			{
				objectSpy.setCurrentObject( variableList.getCurrentName() );
			}
		]]>
	</mx:Script>

	<components:VariableList id ="variableList" dataProvider="{ FlexTrampModelLocator.getInstance().parser.displayVariables }"
		click="handleVariableChange(event)" change="handleVariableChange(event)"
		width="40%" height="100%" />
	<components:ObjectSpy id="objectSpy" 
		width="60%" height="100%" />
</mx:HDividedBox>
